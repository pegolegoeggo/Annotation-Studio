<h4> Search Results </h4>

<% if params[:search] %>

<p class="greyText"> Search Groups by Name: <%= params[:search] %> </p>

	<div class="row">
	  <% @groups.each do |g| %>
	    <div class= "column"> 
	      <span class="title"> <%= link_to g.name, group_path(id: g.id) %> <br> </span>

		<div class="line"></div>
	      
	       <% myRole = Membership.find_by(group_id: g.id, user_id: current_user.id).role %>
	       Role: <%= myRole %> <br>

	       Owner: <%= User.find(g.owner_id).firstname %> <br>

	        <% m = Membership.where(group_id: g.id) %>
      		 Members: <%= m.size %> 


      		 <% if myRole == "owner" %>
      		 <button class="editButton" ><%= link_to "Manage", edit_group_path(id: g.id) %></button>
      		 <%end%>
	    </div>
	  <% end %>

	  </div>
<% end %>


<style>
	
	.row{
	  display:flex;
	  flex-wrap: wrap;
	}
	.column{
	  background-color: white;
	  float: left;
	  width: 17%;
	  height: 220px;
	  padding:5px;
	  margin:2% 1% 0;
	}
	.title{
	  text-overflow: ellipsis;
	  max-width: 10px;
	  overflow: hidden;
	  font-size: 16px;

	}

	.tile-content{
	  text-overflow: ellipsis;
	  overflow: hidden;
	}

	.line { width:100%; height:2px; background: #eeeeee; margin-top:10px; margin-bottom:10px;}

	.editButton{
  background-color:#DDDEE7;
  border-style:none;
  border-radius:2px;
  padding: 0px 10px 0 10px;
  position:fixed;
  bottom:40px;
  margin-left: -70px;
}
</style>

