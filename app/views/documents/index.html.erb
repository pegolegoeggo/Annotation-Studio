<h4> Search Result </h4>

<p class="greyText"> Search Documents by: <%= @title_text %> </p>
<div class="row">

  <% @documents.each do |doc| %>

    <div class= "column"> 
       
       <span class="title"><%= link_to doc.title, document_path(id: doc.id) %> </span>
       <br>
       

        <div class="tile-content"> 
          <div class="line"></div>

          <% if doc.author != "" %>
        Author: <%= doc.author  %> <br>
        <%end%>
        
      <% if doc.publication_date && doc.publication_date != "" %>
        Date: <%= doc.publication_date %> <br> 
      <% end %>
      
       
      <% if !doc.groups.empty? %> 
       Groups: <%= doc.groups.pluck(:name).join(", ") %> <br>
      <% end %>

       Status: 
       <span id="status-icon"> 
        <% case doc.state %>
          <% when 'draft' %>
            <i class="glyphicon glyphicon-pencil" title="<%= doc.state %>"></i>
          <% when 'published' %>
            <i class="glyphicon glyphicon-comment" title="<%= doc.state %>"></i>
          <% when 'archived' %>
            <i class="glyphicon glyphicon-folder-close" title="<%= doc.state %>"></i>
          <% when 'public' %>
            <i class="glyphicon glyphicon-globe" title="<%= doc.state %>"></i>
          <% else %>
            <%= doc.state %>
          <% end %>
       </span> 
  
     </div> <!-- tile-content-->

       <br>
       <% if doc.state == 'draft'%>
       <button class="editButton"><%= link_to "Edit", controller: "documents", action: "edit", id: doc.id if doc.user == current_user %></button>
       <% end %>
    </div> <!-- end column -->

  <% end %> <!-- end doc loop -->

  </div>  <!-- end row -->



<style>
	
	.row{
	  display:flex;
	  flex-wrap: wrap;
	}
	.column{
	  background-color: white;
	  float: left;
	  width: 17%;
	  height: 220px;
	  padding:5px;
	  margin:2% 1% 0;
	}
	.title{
	  text-overflow: ellipsis;
	  max-width: 10px;
	  overflow: hidden;
	  font-size: 16px;

	}

	.tile-content{
	  text-overflow: ellipsis;
	  overflow: hidden;
	}

  .line { width:100%; height:2px; background: #eeeeee; margin-top:10px; margin-bottom:10px;}
</style>
</style>
